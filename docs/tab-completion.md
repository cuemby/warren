# Tab Completion

Warren CLI provides tab completion for bash, zsh, fish, and PowerShell shells.

## Installation

### Bash

```bash
# Generate completion script
warren completion bash > /usr/local/etc/bash_completion.d/warren

# Or for current session only
source <(warren completion bash)
```

Add to your `~/.bashrc` or `~/.bash_profile`:
```bash
source <(warren completion bash)
```

### Zsh

```bash
# Generate completion script
warren completion zsh > "${fpath[1]}/_warren"

# Or add to your ~/.zshrc
echo "source <(warren completion zsh)" >> ~/.zshrc
source ~/.zshrc
```

### Fish

```bash
warren completion fish > ~/.config/fish/completions/warren.fish
```

### PowerShell

```powershell
warren completion powershell | Out-String | Invoke-Expression
```

Add to your PowerShell profile:
```powershell
warren completion powershell >> $PROFILE
```

## Usage

Once installed, you can use tab completion:

```bash
# Complete commands
warren <TAB>
cluster   manager   node      secret    service   volume    worker

# Complete subcommands
warren service <TAB>
create    delete    inspect   list      scale     update

# Complete flags
warren service create --<TAB>
--env         --image       --mode        --replicas    --secret      --volume
```

## Testing

Test that completion is working:

```bash
warren ser<TAB>      # Should complete to "warren service"
warren service li<TAB>   # Should complete to "warren service list"
```

## Features

Warren's tab completion supports:

- **Commands**: All main commands (cluster, service, node, etc.)
- **Subcommands**: All subcommands under each command
- **Flags**: Both short and long flags
- **Flag values**: Where applicable (e.g., `--log-level <TAB>` shows debug/info/warn/error)
- **Dynamic completion**: Resource names (coming soon)

## Troubleshooting

### Completion not working

1. **Verify installation**:
   ```bash
   type _warren
   # Should show: _warren is a shell function
   ```

2. **Reload shell**:
   ```bash
   exec $SHELL
   ```

3. **Check bash-completion**:
   ```bash
   # macOS
   brew install bash-completion

   # Ubuntu/Debian
   sudo apt install bash-completion
   ```

### Permission denied

If you get permission errors, install to user directory:

```bash
# Bash
mkdir -p ~/.bash_completion.d
warren completion bash > ~/.bash_completion.d/warren
echo "source ~/.bash_completion.d/warren" >> ~/.bashrc
```

## Advanced Usage

### Custom completions

You can combine Warren completion with other tools:

```bash
# Complete with fzf for fuzzy finding
warren service list | fzf | xargs warren service inspect
```

### Shell integration

Tab completion works seamlessly with:
- Bash 4.0+
- Zsh 5.0+
- Fish 3.0+
- PowerShell 5.0+

---

**Note**: Tab completion is automatically generated by Cobra and includes all current Warren commands and flags.
